<main class="astro-3453j7es" data-pagefind-body="" dir="ltr" lang="en"> <div class="content-panel astro-hiqdptjl"> <div class="sl-container astro-hiqdptjl"> <h1 class="astro-kp3j3rdu" id="_top">Agents</h1><p class="page-description astro-kp3j3rdu">Configure and use specialized agents.</p> </div> </div> <div class="content-panel astro-hiqdptjl"> <div class="sl-container astro-hiqdptjl"> <div class="sl-markdown-content"> <p>Agents are specialized AI assistants that can be configured for specific tasks and workflows. They allow you to create focused tools with custom prompts, models, and tool access.</p>

<p>You can switch between agents during a session or invoke them with the <code dir="auto">@</code> mention.</p>
<hr/>
<h2 id="types"><a href="#types">Types</a></h2>
<p>There are two types of agents in OpenCode; primary agents and subagents.</p>
<hr/>
<h3 id="primary-agents"><a href="#primary-agents">Primary agents</a></h3>
<p>Primary agents are the main assistants you interact with directly. You can cycle through them using the <strong>Tab</strong> key, or your configured <code dir="auto">switch_agent</code> keybind. These agents handle your main conversation and can access all configured tools.</p>

<p>OpenCode comes with two built-in primary agents, <strong>Build</strong> and <strong>Plan</strong>. We’ll
look at these below.</p>
<hr/>
<h3 id="subagents"><a href="#subagents">Subagents</a></h3>
<p>Subagents are specialized assistants that primary agents can invoke for specific tasks. You can also manually invoke them by <strong>@ mentioning</strong> them in your messages.</p>
<p>OpenCode comes with one built-in subagent, <strong>General</strong>. We’ll look at this below.</p>
<hr/>
<h2 id="built-in"><a href="#built-in">Built-in</a></h2>
<p>OpenCode comes with two built-in primary agents and one built-in subagent.</p>
<hr/>
<h3 id="build"><a href="#build">Build</a></h3>
<p><em>Mode</em>: <code dir="auto">primary</code></p>
<p>Build is the <strong>default</strong> primary agent with all tools enabled. This is the standard agent for development work where you need full access to file operations and system commands.</p>
<hr/>
<h3 id="plan"><a href="#plan">Plan</a></h3>
<p><em>Mode</em>: <code dir="auto">primary</code></p>
<p>A restricted agent designed for planning and analysis. We use a permission system to give you more control and prevent unintended changes.
By default, all of the following are set to <code dir="auto">ask</code>:</p>
<ul>
<li><code dir="auto">file edits</code>: All writes, patches, and edits</li>
<li><code dir="auto">bash</code>: All bash commands</li>
</ul>
<p>This agent is useful when you want the LLM to analyze code, suggest changes, or create plans without making any actual modifications to your codebase.</p>
<hr/>
<h3 id="general"><a href="#general">General</a></h3>
<p><em>Mode</em>: <code dir="auto">subagent</code></p>
<p>A general-purpose agent for researching complex questions, searching for code, and executing multi-step tasks. Use when searching for keywords or files and you’re not confident you’ll find the right match in the first few tries.</p>
<hr/>
<h2 id="usage"><a href="#usage">Usage</a></h2>
<ol>
<li>
<p>For primary agents, use the <strong>Tab</strong> key to cycle through them during a session. You can also use your configured <code dir="auto">switch_agent</code> keybind.</p>
</li>
<li>
<p>Subagents can be invoked:</p>
<ul>
<li>
<p><strong>Automatically</strong> by primary agents for specialized tasks based on their descriptions.</p>
</li>
<li>
<p>Manually by <strong>@ mentioning</strong> a subagent in your message. For example.</p>
<div class="expressive-code"><link href="/docs/_astro/ec.4c0k7.css" rel="stylesheet"/></div>
</li>
</ul>
</li>
<li>
<p><strong>Navigation between sessions</strong>: When subagents create their own child sessions, you can navigate between the parent session and all child sessions using:</p>
<ul>
<li><strong>Ctrl+Right</strong> (or your configured <code dir="auto">session_child_cycle</code> keybind) to cycle forward through parent → child1 → child2 → … → parent</li>
<li><strong>Ctrl+Left</strong> (or your configured <code dir="auto">session_child_cycle_reverse</code> keybind) to cycle backward through parent ← child1 ← child2 ← … ← parent</li>
</ul>
<p>This allows you to seamlessly switch between the main conversation and specialized subagent work.</p>
</li>
</ol>
<hr/>
<h2 id="configure"><a href="#configure">Configure</a></h2>
<p>You can customize the built-in agents or create your own through configuration. Agents can be configured in two ways:</p>
<hr/>
<h3 id="json"><a href="#json">JSON</a></h3>
<p>Configure agents in your <code dir="auto">opencode.json</code> config file:</p>
<div class="expressive-code"></div>
<hr/>
<h3 id="markdown"><a href="#markdown">Markdown</a></h3>
<p>You can also define agents using markdown files. Place them in:</p>
<ul>
<li>Global: <code dir="auto">~/.config/opencode/agent/</code></li>
<li>Per-project: <code dir="auto">.opencode/agent/</code></li>
</ul>
<div class="expressive-code"></div>
<p>The markdown file name becomes the agent name. For example, <code dir="auto">review.md</code> creates a <code dir="auto">review</code> agent.</p>
<hr/>
<h2 id="options"><a href="#options">Options</a></h2>
<p>Let’s look at these configuration options in detail.</p>
<hr/>
<h3 id="description"><a href="#description">Description</a></h3>
<p>Use the <code dir="auto">description</code> option to provide a brief description of what the agent does and when to use it.</p>
<div class="expressive-code"></div>
<p>This is a <strong>required</strong> config option.</p>
<hr/>
<h3 id="temperature"><a href="#temperature">Temperature</a></h3>
<p>Control the randomness and creativity of the LLM’s responses with the <code dir="auto">temperature</code> config.</p>
<p>Lower values make responses more focused and deterministic, while higher values increase creativity and variability.</p>
<div class="expressive-code"></div>
<p>Temperature values typically range from 0.0 to 1.0:</p>
<ul>
<li><strong>0.0-0.2</strong>: Very focused and deterministic responses, ideal for code analysis and planning</li>
<li><strong>0.3-0.5</strong>: Balanced responses with some creativity, good for general development tasks</li>
<li><strong>0.6-1.0</strong>: More creative and varied responses, useful for brainstorming and exploration</li>
</ul>
<div class="expressive-code"></div>
<p>If no temperature is specified, OpenCode uses model-specific defaults; typically 0 for most models, 0.55 for Qwen models.</p>
<hr/>
<h3 id="disable"><a href="#disable">Disable</a></h3>
<p>Set to <code dir="auto">true</code> to disable the agent.</p>
<div class="expressive-code"></div>
<hr/>
<h3 id="prompt"><a href="#prompt">Prompt</a></h3>
<p>Specify a custom system prompt file for this agent with the <code dir="auto">prompt</code> config. The prompt file should contain instructions specific to the agent’s purpose.</p>
<div class="expressive-code"></div>
<p>This path is relative to where the config file is located. So this works for both the global OpenCode config and the project specific config.</p>
<hr/>
<h3 id="model"><a href="#model">Model</a></h3>
<p>Use the <code dir="auto">model</code> config to override the default model for this agent. Useful for using different models optimized for different tasks. For example, a faster model for planning, a more capable model for implementation.</p>
<div class="expressive-code"></div>
<hr/>
<h3 id="tools"><a href="#tools">Tools</a></h3>
<p>Control which tools are available in this agent with the <code dir="auto">tools</code> config. You can enable or disable specific tools by setting them to <code dir="auto">true</code> or <code dir="auto">false</code>.</p>
<div class="expressive-code"></div>

<p>You can also use wildcards to control multiple tools at once. For example, to disable all tools from an MCP server:</p>
<div class="expressive-code"></div>
<p><a href="/docs/tools">Learn more about tools</a>.</p>
<hr/>
<h3 id="permissions"><a href="#permissions">Permissions</a></h3>
<p>You can configure permissions to manage what actions an agent can take. Currently, the permissions for the <code dir="auto">edit</code>, <code dir="auto">bash</code>, and <code dir="auto">webfetch</code> tools can be configured to:</p>
<ul>
<li><code dir="auto">"ask"</code> — Prompt for approval before running the tool</li>
<li><code dir="auto">"allow"</code> — Allow all operations without approval</li>
<li><code dir="auto">"deny"</code> — Disable the tool</li>
</ul>
<div class="expressive-code"></div>
<p>You can override these permissions per agent.</p>
<div class="expressive-code"></div>
<p>You can also set permissions in Markdown agents.</p>
<div class="expressive-code"></div>
<p>You can set permissions for specific bash commands.</p>
<div class="expressive-code"></div>
<p>This can take a glob pattern.</p>
<div class="expressive-code"></div>
<p>And you can also use the <code dir="auto">*</code> wildcard to manage permissions for all commands.
Where the specific rule can override the <code dir="auto">*</code> wildcard.</p>
<div class="expressive-code"></div>
<p><a href="/docs/permissions">Learn more about permissions</a>.</p>
<hr/>
<h3 id="mode"><a href="#mode">Mode</a></h3>
<p>Control the agent’s mode with the <code dir="auto">mode</code> config. The <code dir="auto">mode</code> option is used to determine how the agent can be used.</p>
<div class="expressive-code"></div>
<p>The <code dir="auto">mode</code> option can be set to <code dir="auto">primary</code>, <code dir="auto">subagent</code>, or <code dir="auto">all</code>. If no <code dir="auto">mode</code> is specified, it defaults to <code dir="auto">all</code>.</p>
<hr/>
<h3 id="additional"><a href="#additional">Additional</a></h3>
<p>Any other options you specify in your agent configuration will be <strong>passed through directly</strong> to the provider as model options. This allows you to use provider-specific features and parameters.</p>
<p>For example, with OpenAI’s reasoning models, you can control the reasoning effort:</p>
<div class="expressive-code"></div>
<p>These additional options are model and provider-specific. Check your provider’s documentation for available parameters.</p>

<hr/>
<h2 id="create-agents"><a href="#create-agents">Create agents</a></h2>
<p>You can create new agents using the following command:</p>
<div class="expressive-code"></div>
<p>This interactive command will:</p>
<ol>
<li>Ask where to save the agent; global or project-specific.</li>
<li>Description of what the agent should do.</li>
<li>Generate an appropriate system prompt and identifier.</li>
<li>Let you select which tools the agent can access.</li>
<li>Finally, create a markdown file with the agent configuration.</li>
</ol>
<hr/>
<h2 id="use-cases"><a href="#use-cases">Use cases</a></h2>
<p>Here are some common use cases for different agents.</p>
<ul>
<li><strong>Build agent</strong>: Full development work with all tools enabled</li>
<li><strong>Plan agent</strong>: Analysis and planning without making changes</li>
<li><strong>Review agent</strong>: Code review with read-only access plus documentation tools</li>
<li><strong>Debug agent</strong>: Focused on investigation with bash and read tools enabled</li>
<li><strong>Docs agent</strong>: Documentation writing with file operations but no system commands</li>
</ul>
<hr/>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<p>Here are some examples agents you might find useful.</p>

<hr/>
<h3 id="documentation-agent"><a href="#documentation-agent">Documentation agent</a></h3>
<div class="expressive-code"></div>
<hr/>
<h3 id="security-auditor"><a href="#security-auditor">Security auditor</a></h3>
<div class="expressive-code"></div> </div>  </div> </div> </main>
